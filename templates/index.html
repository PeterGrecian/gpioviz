<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspberry Pi GPIO Visualizer</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Raspberry Pi GPIO Control</h1>
        </header>
        <div class="version-info">
            <a href="https://github.com/PeterGrecian/gpioviz" target="_blank">github.com/PeterGrecian/gpioviz</a>
            <span id="version-tag">v2.0</span>
            <span id="commit-hash"></span>
            <span id="device-type"></span>
        </div>

        <div class="main-content">
        <div class="gpio-board">
            <div class="layout-toggle">
                <button class="btn" id="btn-hat-mode">Hat Mode</button>
                <button class="btn" id="btn-header-mode">Header Mode</button>
            </div>
            <div class="pin-row layout-header" id="pin-container">
                <!-- Left column (odd pins) -->
                <div class="pin-column left">
                    <!-- Pin 1 -->
                    <div class="pin power" data-pin="1">
                        <span class="pin-number">1</span>
                        <span class="pin-label">3.3V</span>
                        <div class="pin-indicator power"></div>
                    </div>
                    <!-- Pin 3 -->
                    <div class="pin gpio" data-pin="3">
                        <span class="pin-number">3</span>
                        <span class="pin-label">GPIO2 <span class="alt-func">(SDA)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 5 -->
                    <div class="pin gpio" data-pin="5">
                        <span class="pin-number">5</span>
                        <span class="pin-label">GPIO3 <span class="alt-func">(SCL)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 7 -->
                    <div class="pin gpio" data-pin="7">
                        <span class="pin-number">7</span>
                        <span class="pin-label">GPIO4</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 9 -->
                    <div class="pin ground" data-pin="9">
                        <span class="pin-number">9</span>
                        <span class="pin-label">GND</span>
                        <div class="pin-indicator ground"></div>
                    </div>
                    <!-- Pin 11 -->
                    <div class="pin gpio" data-pin="11">
                        <span class="pin-number">11</span>
                        <span class="pin-label">GPIO17</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 13 -->
                    <div class="pin gpio" data-pin="13">
                        <span class="pin-number">13</span>
                        <span class="pin-label">GPIO27</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 15 -->
                    <div class="pin gpio" data-pin="15">
                        <span class="pin-number">15</span>
                        <span class="pin-label">GPIO22</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 17 -->
                    <div class="pin power" data-pin="17">
                        <span class="pin-number">17</span>
                        <span class="pin-label">3.3V</span>
                        <div class="pin-indicator power"></div>
                    </div>
                    <!-- Pin 19 -->
                    <div class="pin gpio" data-pin="19">
                        <span class="pin-number">19</span>
                        <span class="pin-label">GPIO10 <span class="alt-func">(MOSI)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 21 -->
                    <div class="pin gpio" data-pin="21">
                        <span class="pin-number">21</span>
                        <span class="pin-label">GPIO9 <span class="alt-func">(MISO)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 23 -->
                    <div class="pin gpio" data-pin="23">
                        <span class="pin-number">23</span>
                        <span class="pin-label">GPIO11 <span class="alt-func">(SCLK)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 25 -->
                    <div class="pin ground" data-pin="25">
                        <span class="pin-number">25</span>
                        <span class="pin-label">GND</span>
                        <div class="pin-indicator ground"></div>
                    </div>
                    <!-- Pin 27 -->
                    <div class="pin reserved" data-pin="27">
                        <span class="pin-number">27</span>
                        <span class="pin-label">ID_SD</span>
                        <div class="pin-indicator reserved"></div>
                    </div>
                    <!-- Pin 29 -->
                    <div class="pin gpio" data-pin="29">
                        <span class="pin-number">29</span>
                        <span class="pin-label">GPIO5</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 31 -->
                    <div class="pin gpio" data-pin="31">
                        <span class="pin-number">31</span>
                        <span class="pin-label">GPIO6</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 33 -->
                    <div class="pin gpio" data-pin="33">
                        <span class="pin-number">33</span>
                        <span class="pin-label">GPIO13 <span class="alt-func">(PWM)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 35 -->
                    <div class="pin gpio" data-pin="35">
                        <span class="pin-number">35</span>
                        <span class="pin-label">GPIO19 <span class="alt-func">(PCM)</span></span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 37 -->
                    <div class="pin gpio" data-pin="37">
                        <span class="pin-number">37</span>
                        <span class="pin-label">GPIO26</span>
                        <div class="pin-mode-indicator output-mode"></div>
                        <div class="pin-indicator"></div>
                    </div>
                    <!-- Pin 39 -->
                    <div class="pin ground" data-pin="39">
                        <span class="pin-number">39</span>
                        <span class="pin-label">GND</span>
                        <div class="pin-indicator ground"></div>
                    </div>
                </div>

                <!-- Right column (even pins) -->
                <div class="pin-column right">
                    <!-- Pin 2 -->
                    <div class="pin power" data-pin="2">
                        <div class="pin-indicator power-5v"></div>
                        <span class="pin-label">5V</span>
                        <span class="pin-number">2</span>
                    </div>
                    <!-- Pin 4 -->
                    <div class="pin power" data-pin="4">
                        <div class="pin-indicator power-5v"></div>
                        <span class="pin-label">5V</span>
                        <span class="pin-number">4</span>
                    </div>
                    <!-- Pin 6 -->
                    <div class="pin ground" data-pin="6">
                        <div class="pin-indicator ground"></div>
                        <span class="pin-label">GND</span>
                        <span class="pin-number">6</span>
                    </div>
                    <!-- Pin 8 -->
                    <div class="pin gpio" data-pin="8">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO14 <span class="alt-func">(TXD)</span></span>
                        <span class="pin-number">8</span>
                    </div>
                    <!-- Pin 10 -->
                    <div class="pin gpio" data-pin="10">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO15 <span class="alt-func">(RXD)</span></span>
                        <span class="pin-number">10</span>
                    </div>
                    <!-- Pin 12 -->
                    <div class="pin gpio" data-pin="12">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO18 <span class="alt-func">(PCM)</span></span>
                        <span class="pin-number">12</span>
                    </div>
                    <!-- Pin 14 -->
                    <div class="pin ground" data-pin="14">
                        <div class="pin-indicator ground"></div>
                        <span class="pin-label">GND</span>
                        <span class="pin-number">14</span>
                    </div>
                    <!-- Pin 16 -->
                    <div class="pin gpio" data-pin="16">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO23</span>
                        <span class="pin-number">16</span>
                    </div>
                    <!-- Pin 18 -->
                    <div class="pin gpio" data-pin="18">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO24</span>
                        <span class="pin-number">18</span>
                    </div>
                    <!-- Pin 20 -->
                    <div class="pin ground" data-pin="20">
                        <div class="pin-indicator ground"></div>
                        <span class="pin-label">GND</span>
                        <span class="pin-number">20</span>
                    </div>
                    <!-- Pin 22 -->
                    <div class="pin gpio" data-pin="22">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO25</span>
                        <span class="pin-number">22</span>
                    </div>
                    <!-- Pin 24 -->
                    <div class="pin gpio" data-pin="24">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO8 <span class="alt-func">(CE0)</span></span>
                        <span class="pin-number">24</span>
                    </div>
                    <!-- Pin 26 -->
                    <div class="pin gpio" data-pin="26">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO7 <span class="alt-func">(CE1)</span></span>
                        <span class="pin-number">26</span>
                    </div>
                    <!-- Pin 28 -->
                    <div class="pin reserved" data-pin="28">
                        <div class="pin-indicator reserved"></div>
                        <span class="pin-label">ID_SC</span>
                        <span class="pin-number">28</span>
                    </div>
                    <!-- Pin 30 -->
                    <div class="pin ground" data-pin="30">
                        <div class="pin-indicator ground"></div>
                        <span class="pin-label">GND</span>
                        <span class="pin-number">30</span>
                    </div>
                    <!-- Pin 32 -->
                    <div class="pin gpio" data-pin="32">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO12 <span class="alt-func">(PWM)</span></span>
                        <span class="pin-number">32</span>
                    </div>
                    <!-- Pin 34 -->
                    <div class="pin ground" data-pin="34">
                        <div class="pin-indicator ground"></div>
                        <span class="pin-label">GND</span>
                        <span class="pin-number">34</span>
                    </div>
                    <!-- Pin 36 -->
                    <div class="pin gpio" data-pin="36">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO16</span>
                        <span class="pin-number">36</span>
                    </div>
                    <!-- Pin 38 -->
                    <div class="pin gpio" data-pin="38">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO20 <span class="alt-func">(PCM)</span></span>
                        <span class="pin-number">38</span>
                    </div>
                    <!-- Pin 40 -->
                    <div class="pin gpio" data-pin="40">
                        <div class="pin-indicator"></div>
                        <span class="pin-label">GPIO21 <span class="alt-func">(PCM)</span></span>
                        <span class="pin-number">40</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="control-buttons">
            <button id="config-tool" class="btn btn-config-tool">â–  I/O Config</button>
            <button id="flash-tool" class="btn btn-flash-tool">âš¡ Flash</button>
            <button id="peripheral-tool" class="btn btn-peripheral-tool">â˜  Peripheral</button>
            <button id="test-sequence" class="btn btn-primary">â–¶ Test Sequence</button>
            <button id="all-input" class="btn btn-success">â—€ All Input</button>
            <button id="save-config" class="btn btn-primary">ðŸ’¾ Save</button>
            <button id="load-config" class="btn btn-success">ðŸ“‚ Load</button>
            <button id="reset-all" class="btn btn-danger">Reset</button>
        </div>

        </div>

        <!-- GPIO Notice -->
        <div class="gpio-notice">
            <h3>âš  GPIO Safety</h3>
            <p><strong>Multifunction pins</strong> (I2C, SPI, UART) are set to GPIO by default.</p>
            <p><strong>ID_SD/ID_SC (turquoise LEDs):</strong> Reserved for HAT EEPROM. Can be used as GPIO but not recommended.</p>
            <p><strong>Pins 3 & 5:</strong> Have 1.8kÎ© pull-up resistors, always pulled HIGH by default.</p>
            <p><strong>âš  CRITICAL:</strong> All GPIO pins are 3.3V. Never connect 5V signals. <strong>Always use 1kÎ©-10kÎ© resistors</strong> between pins to prevent damage from accidental shorts (>16mA can permanently damage pins or the SoC).</p>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
